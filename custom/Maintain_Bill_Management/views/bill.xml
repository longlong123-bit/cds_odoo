<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- FORM VIEW -->
    <record model="ir.ui.view" id="bm_bill_form">
        <field name="name">bm.bill.form</field>
        <field name="model">res.partner</field>
        <field name="arch" type="xml">
            <form string="Bill Form">
                <header>
                    <button name="create_bill_details" string="Create bill" class="btn btn-primary" type="object"/>
                    <button name="check_all_button" string="Check All" class="btn btn-primary" type="object"/>
                    <button name="uncheck_all_button" string="Uncheck All" class="btn" type="object"/>
                </header>
                <sheet>
                    <group>
                        <div class="row">
                            <div class="col-md-4">
                                <group>
                                    <field name="customer_code" string="Billing Code" readonly="1"/>
                                </group>
                            </div>
                            <div class="col-md-4">
                                <group>
                                    <field name="name" string="Billing Name" readonly="1"/>
                                </group>
                            </div>
                            <div class="col-md-4">
                                <group>
                                    <field name="deadline"/>
                                </group>
                            </div>
                        </div>
                    </group>

                    <notebook>
                        <page string="Details Line">
                            <field name="bill_account_move_line_ids">
                                <tree string="Details Line" editable="bottom" create="false" delete="false">
                                    <field name="selected" string=" "/>
                                    <field name="date" string="Invoice Date" readonly='1'/>
                                    <field name="invoice_no" string="Invoice No" readonly='1'/>
                                    <field name="customer_code" string="Customer Code" readonly='1'/>
                                    <field name="customer_name" string="Customer Name" readonly='1'/>
                                    <field name="product_id" string="Product Code" readonly='1'/>
                                    <field name="x_product_name" string="Product Name" readonly='1'/>
                                    <field name="invoice_custom_FreightCategory" string="Product Maker Name"
                                           readonly='1'/>
                                    <field name="invoice_custom_standardnumber" string="Standard Number" readonly='1'/>
                                    <field name="quantity" string="Quantity" readonly='1'/>
                                    <field name="price_unit" string="Price Unit" readonly='1'/>
                                    <field name="invoice_custom_lineamount" string="Amount" readonly='1'/>
                                    <field name="invoice_custom_Description" string="Note" readonly='1'/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- TREE VIEW -->
    <record model="ir.ui.view" id="bm_bill_tree">
        <field name="name">bm.bill.tree</field>
        <field name="model">res.partner</field>
        <field name="arch" type="xml">
            <tree string="Bill Tree" class="forward_edit">
                <field name="customer_code" string="Billing Code"/>
                <field name="name" string="Billing Name"/>
                <field name="last_closing_date" string="Last Closing Date"/>
                <field name="voucher_number" string="Voucher Number"/>
                <field name="customer_except_request" invisible="1"/>
                <button name="bm_bill_excerpt_button" type="object" string="Excerpt" class="btn-sm btn btn-primary"
                        attrs="{'invisible': ['|',('customer_except_request','=',False),('voucher_number','=',0)]}"/>
                <field name="deadline" string="Deadline" invisible="1"/>
                <field name="current_closing_date" invisible="1"/>
                <field name="customer_agent" invisible="1"/>
                <field name="department" invisible="1"/>
                <field name="customer_supplier_group_code" invisible="1"/>
                <field name="customer_except_request" invisible="1"/>
                <field name="closing_date_value" invisible="1"/>
            </tree>
        </field>
    </record>

    <!-- ACTIONS -->
    <record model="ir.actions.act_window" id="actions_bm_bill">
        <field name="name">Billing</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="bm_bill_tree"/>
        <field name="domain">
            [('billing_liabilities_flg','=',True)]
        </field>
        <field name="context">{'bill_management_module': True, 'view_name': 'Billing'}</field>
    </record>

</odoo>
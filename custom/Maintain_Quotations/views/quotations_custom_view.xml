<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_order_custom_form" model="ir.ui.view">
        <field name="name">sale.order.custom.form</field>
        <field name="model">sale.order</field>
        <field name="mode">primary</field>
        <field eval="1" name="priority"/>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form" position="replace">
                <form string="Quotations Custom" class="custom_template quotations_custom">
                    <header>
                        <field name="authorized_transaction_ids" invisible="1"/>
                        <button name="payment_action_capture" type="object"
                                string="Capture Transaction" class="oe_highlight"
                                attrs="{'invisible': [('authorized_transaction_ids', '=', [])]}"/>
                        <button name="payment_action_void" type="object"
                                string="Void Transaction"
                                confirm="Are you sure you want to void the authorized transaction? This action can't be undone."
                                attrs="{'invisible': [('authorized_transaction_ids', '=', [])]}"/>
<!--                        <button name="%(sale.action_view_sale_advance_payment_inv)d" string="Create Invoice"-->
<!--                            type="action" class="btn-primary"-->
<!--                            attrs="{'invisible': [('invoice_status', '!=', 'to invoice')]}"/>-->
<!--                        <button name="%(sale.action_view_sale_advance_payment_inv)d" string="Create Invoice"-->
<!--                            type="action" context="{'default_advance_payment_method': 'percentage'}"-->
<!--                            attrs="{'invisible': ['|',('invoice_status', '!=', 'no'), ('state', '!=', 'sale')]}"/>-->
                        <button name="action_quotation_send" string="Send by Email" type="object" states="draft" class="btn-primary"/>
<!--                        <button name="action_quotation_send" type="object" string="Send PRO-FORMA Invoice"-->
<!--                          groups="sale.group_proforma_sales" class="btn-primary"-->
<!--                          attrs="{'invisible': ['|', ('state', '!=', 'draft'), ('invoice_count','&gt;=',1)]}" context="{'proforma': True}"/>-->
                        <button name="action_confirm" id="action_confirm"
                            string="Confirm" class="btn-primary" type="object"
                            attrs="{'invisible': [('state', 'not in', ['sent'])]}"/>
                        <button name="action_confirm"
                            string="Confirm" type="object"
                            attrs="{'invisible': [('state', 'not in', ['draft'])]}"/>
<!--                        <button name="action_quotation_send" type="object" string="Send PRO-FORMA Invoice" groups="sale.group_proforma_sales" attrs="{'invisible': ['|', ('state', '=', 'draft'), ('invoice_count','&gt;=',1)]}" context="{'proforma': True}"/>-->
                        <button name="action_quotation_send" string="Send by Email" type="object" states="sent,sale"/>
                        <button name="action_cancel" states="draft,sent,sale" type="object" string="Cancel"/>
                        <button name="action_draft" states="cancel" type="object" string="Set to Quotation"/>
<!--                        <field name="state" widget="statusbar" statusbar_visible="draft,sent,sale"/>-->
                    </header>
                    <table class="custom-form-table cols-8">
                        <tbody>
                            <tr>
<!--                                <td colspan="8"><field class="line_info no-border" name="line_info" readonly="True"/></td>-->
                            </tr>

                            <!-- Row 0 -->
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>

                            <!-- Row 1 -->
                            <tr>
                                <td class="o_td_label"><label for="name" string="Name*"/></td>
                                <td colspan="2"><field name="name" required="True"/></td>
                                <td class="o_td_label"><label for="document_no" string="Document No*"/></td>
                                <td><field name="document_no" required="True"/></td>
                                <td class="o_td_label"><label for="order_id" string="Order ID"/></td>
                                <td><field name="order_id" readonly="False"/></td>
                            </tr>

                            <!-- Row 2 -->
                            <tr>
                                <td class="o_td_label"><label for="shipping_address" string="Shipping Address*"/></td>
                                <td colspan="2"><field name="shipping_address"/></td>
                                <td class="o_td_label"><label for="expected_date" string="Expected Date*"/></td>
                                <td><field name="expected_date" required="True"/></td>
                                <td class="o_td_label"><label for="expiration_date" string="Expiration Date*"/></td>
                                <td><field name="expiration_date" required="True"/></td>
                                <td><field name="state" invisible="True"/></td>
                                <td><field name="company_id" invisible="True"/></td>
                            </tr>

                            <!-- Row 3 -->
                            <tr>
                                <td class="o_td_label"><label for="note" string="Note"/></td>
                                <td colspan="2"><field name="note"/></td>
                                <td class="o_td_label"><label for="comment" string="Comment"/></td>
                                <td colspan="4"><field name="comment"/></td>
                            </tr>

                            <!-- Row 4 -->
                            <tr>
                                <td></td>
                                <td colspan="2">
                                    <field name="is_unit_quotations" widget="boolean_tags"/>
                                    <label for="is_unit_quotations" string="Unit Quotations"/>
                                </td>
                                <td class="o_td_label"><label for="report_header" string="Report Title"/></td>
                                <td><field name="report_header" widget="radio"/></td>
                                <td class="o_td_label"><label for="paperformat_id" string="Document No"/></td>
                                <td><field name="paperformat_id" readonly="False"/></td>
                            </tr>

                            <!-- Row 5 -->
                            <tr>
                                <td></td>
                                <td colspan="2">
                                    <field name="is_print_date" widget="boolean_tags"/>
                                    <label for="is_print_date" string="Print Date"/>
                                </td>
                                <td class="o_td_label"><label for="tax_method" string="Tax Method"/></td>
                                <td><field name="tax_method"/></td>
                                <td class="o_td_label"><label for="quotations_date" string="Quotation Date"/></td>
                                <td><field name="quotations_date" readonly="False"/></td>
                            </tr>

                            <!-- Row 6 -->
                            <tr>
                                <td class="o_td_label"><label for="partner_id" string="Business Partner"/></td>
                                <td colspan="2"><field name="partner_id" widget="res_partner_many2one" required="1"
                                           domain="[('customer_rank','>', 0)]" default_focus="1"
                                           context="{'showemail': 'ok','res_partner_search_mode': 'customer'}"
                                           options='{"reload_on_button": True, "no_quick_create": True}'
                                           z-index="98"/></td>
                                <td colspan="2"><field name="partner_name"/></td>
                            </tr>

                            <!-- Row 7 -->
                            <tr>
                                <td class="o_td_label"><label for="sales_rep" string="Sales Rep"/></td>
                                <td colspan="2"><field name="sales_rep"/></td>
                                <td class="o_td_label"><label for="cb_partner_sales_rep_id" string="CB Partner Sales Rep"/></td>
                                <td colspan="2"><field name="cb_partner_sales_rep_id"/></td>
                            </tr>

                            <!-- Row 8 -->
                            <tr>
                                <td class="o_td_label"><label for="comment_apply" string="Comment Apply"/></td>
                                <td colspan="2"><field name="comment_apply"/></td>
                                <td class="o_td_label"><label for="create_date" string="Create Date"/></td>
                                <td><field name="create_date"/></td>
                            </tr>
                        </tbody>
                    </table>

                    <notebook>
                        <!-- Order Lines -->
                        <page string="Order Lines" name="order_lines">
                            <field
                                name="order_line"
                                widget="section_and_note_one2many"
                                mode="tree,kanban"
                                attrs="{'readonly': [('state', 'in', ('done','cancel'))]}"
                            >
                                <tree
                                    string="Sales Order Lines"
                                    editable="bottom"
                                    decoration-info="(not display_type and invoice_status == 'to invoice')"
                                >
<!--                                    <control>-->
<!--                                        <create name="add_product_control" string="Add a product"/>-->
<!--                                        <create name="add_section_control" string="Add a section" context="{'default_display_type': 'line_section'}"/>-->
<!--                                        <create name="add_note_control" string="Add a note" context="{'default_display_type': 'line_note'}"/>-->
<!--                                    </control>-->

                                    <field name="display_type" invisible="True"/>
                                    <field name="product_uom_category_id" invisible="True"/>

                                    <field name="product_updatable" invisible="True"/>
                                    <field name="state" invisible="True"/>
                                    <field name="invoice_status" invisible="True"/>
                                    <field name="currency_id" invisible="True"/>
                                    <field name="price_tax" invisible="True"/>
                                    <field name="company_id" invisible="True"/>
                                    <field name="tax_id" invisible="True"/>
                                    <field name="name" invisible="True"/>

                                    <field name="class_item"/>
                                    <field name="product_id" required="True"/>
                                    <field name="product_uom_qty"/>
                                    <field name="product_uom"/>
                                    <field name="price_unit"/>
                                    <field name="product_barcode"/>
                                    <field name="product_freight_category"/>
                                    <field name="product_name"/>
                                    <field name="product_standard_number"/>
                                    <field name="product_list_price"/>
                                    <field name="cost"/>
                                    <field name="discount" string="Disc.%" groups="product.group_discount_per_so_line" optional="show"/>
                                    <field name="price_subtotal" widget="monetary" groups="account.group_show_line_subtotals_tax_excluded"/>
                                    <field name="price_total" widget="monetary" groups="account.group_show_line_subtotals_tax_included" invisible="False" string="Total"/>
                                    <field name="description"/>
                                    <field name="tax_id" widget="many2many_tags"/>
                                </tree>
                            </field>

                            <group name="note_group" col="6">
                                <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                    <field name="amount_untaxed" widget='monetary' options="{'currency_field': 'currency_id'}" string="Amount Untaxed"/>
                                    <field name="amount_tax" widget='monetary' options="{'currency_field': 'currency_id'}" string="Amount Tax"/>
                                    <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                        <label for="amount_total" string="Amount Total"/>
                                    </div>
                                    <field name="amount_total" nolabel="1" class="oe_subtotal_footer_separator" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </form>
            </xpath>
        </field>
    </record>

<!--    <record id="view_account_payment_custom_tree" model="ir.ui.view">-->
<!--        <field name="name">account.payment.custom.tree</field>-->
<!--        <field name="model">account.payment</field>-->
<!--        <field name="inherit_id" ref="account.view_account_payment_tree"/>-->
<!--        <field name="mode">primary</field>-->
<!--        <field eval="1" name="priority"/>-->
<!--        <field name="arch" type="xml">-->
<!--            <xpath expr="//tree" position="replace">-->
<!--                <tree string="Account Payment" multi_edit="1" duplicate="false" class="forward_edit">-->
<!--                    <field name="document_no" string="Document No"/>-->
<!--                    <field name="payment_date" string="Transaction Date"/>-->
<!--                    <field name="partner_id" string="Business Partner"/>-->
<!--                    <field name="partner_bank_account_id" string="Bank Account"/>-->
<!--                    <field name="state" string="Document Status"/>-->
<!--                    <field name="account_invoice_id" string="Invoice"/>-->
<!--                </tree>-->
<!--            </xpath>-->
<!--        </field>-->
<!--    </record>-->

<!--    <record id="view_account_payment_custom_search" model="ir.ui.view">-->
<!--        <field name="name">account.payment.custom.search</field>-->
<!--        <field name="model">account.payment</field>-->
<!--        <field name="mode">primary</field>-->
<!--        <field name="arch" type="xml">-->
<!--            <search>-->
<!--                <field name="document_no" string="Document No"/>-->
<!--                <field name="payment_date" string="Transaction Date"/>-->
<!--                <field name="partner_id" string="Business Partner"/>-->
<!--                <field name="partner_bank_account_id" string="Bank Account"/>-->
<!--                <field name="state" string="Document Status"/>-->
<!--                <field name="account_invoice_id" string="Invoice"/>-->
<!--            </search>-->
<!--        </field>-->
<!--    </record>-->

    <record id="quotation_custom_action" model="ir.actions.act_window">
        <field name="name">Quotations Custom</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">sale.order</field>
        <field name="view_mode">tree,kanban,form</field>
<!--        <field name="view_id" ref="view_account_payment_custom_tree"/>-->
        <field name="context">{'form_view_initial_mode': 'edit', 'force_detailed_view': 'true'}</field>
<!--        <field name="search_view_id" ref="view_account_payment_custom_search"/>-->
    </record>

    <menuitem id="menu_ideas" parent="" name="Quotations Custom" sequence="10" action="quotation_custom_action" groups="base.group_user"/>

<!--    <data>-->
<!--        &lt;!&ndash; Sequences for account.payment &ndash;&gt;-->
<!--        <record id="seq_account_payment" model="ir.sequence">-->
<!--            <field name="name">Account Payment</field>-->
<!--            <field name="code">account.payment</field>-->
<!--            <field name="padding">7</field>-->
<!--            <field name="number_next">1000000</field>-->
<!--            <field name="prefix">ARR-</field>-->
<!--        </record>-->
<!--    </data>-->
</odoo>

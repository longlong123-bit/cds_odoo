<?xml version="1.0" encoding="utf-8"?>
<!-- webpage record -->
<template>
    <t t-name="supplier_ledger_inquiry.advanced_search">
        <table>
            <tr>
                <th>対象日付</th>
                <td>
                    <input class="filter-item" data-operator="gte" data-name="date" type="date"/>
                </td>
                <td><span>～</span></td>
                <td>
                    <input class="filter-item" data-operator="lte" data-name="date" type="date"/>
                </td>
            </tr>
            <tr>
                <th>請求先（得意先）コード</th>
                <td>
                    <input class="filter-item" data-operator="=" id = "billing_code" data-name="customer_code_bill" ref="" onblur="changeBillingCode()" type="search"/>
                </td>
                <script>
                    function changeBillingCode(){
                        billing_code = document.getElementById("billing_code").value;
                        $.ajax({
                            url: "/get_billing_name",
                            type: "POST",
                            data: {"content": billing_code},
                            dataType: 'json',
                            traditional: true,
                            success: function(result){
                                document.getElementById("billing_name").value = result.content.billing_name;
                            },
                            error: function(result){
                                console.log(result);
                            }
                        });
                    }
                </script>
            </tr>
             <tr>
                <th>請求先名（得意先名）</th>
                <td colspan="3">
                    <input class="filter-item" id="billing_name" data-operator="=" data-name="customer_name" ref="" readonly="true" />
                </td>
            </tr>
           </table>
    </t>
</template>
